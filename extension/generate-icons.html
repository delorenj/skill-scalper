<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Icon Generator - Skill Scalper</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      padding: 40px;
      max-width: 800px;
      margin: 0 auto;
      background: #f5f5f5;
    }
    h1 {
      color: #333;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .preview {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin: 30px 0;
    }
    .icon-preview {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
    canvas {
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button {
      background: #6366f1;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      font-weight: 500;
    }
    button:hover {
      background: #4f46e5;
    }
    .instructions {
      background: #f0f9ff;
      border: 1px solid #bae6fd;
      padding: 20px;
      border-radius: 6px;
      margin-top: 20px;
    }
    .instructions h3 {
      margin-top: 0;
      color: #0369a1;
    }
    .instructions code {
      background: #e0f2fe;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Skill Scalper Icon Generator</h1>
    <p>This page generates placeholder icons for the Skill Scalper extension. Click the button below to download all required icon sizes.</p>

    <div class="preview" id="preview"></div>

    <button onclick="downloadAllIcons()">Download All Icons</button>

    <div class="instructions">
      <h3>Installation Instructions</h3>
      <ol>
        <li>Click "Download All Icons" above</li>
        <li>Create a folder named <code>icons</code> in the extension directory</li>
        <li>Move all downloaded PNG files into the <code>icons/</code> folder</li>
        <li>Load the extension in Chrome from <code>chrome://extensions/</code></li>
      </ol>
      <p><strong>Optional:</strong> You can replace these placeholder icons with your own custom designs. Just make sure they match the required sizes (16x16, 32x32, 48x48, 128x128 pixels).</p>
    </div>
  </div>

  <script>
    const sizes = [16, 32, 48, 128];
    const canvases = {};

    function generateIcon(size) {
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');

      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, size, size);
      gradient.addColorStop(0, '#6366f1');
      gradient.addColorStop(1, '#4f46e5');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, size, size);

      // Draw book icon
      const padding = size * 0.2;
      const bookWidth = size - (padding * 2);
      const bookHeight = size - (padding * 2);

      ctx.fillStyle = 'white';

      // Book pages
      ctx.fillRect(padding, padding, bookWidth * 0.7, bookHeight);

      // Book spine
      ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.fillRect(padding + bookWidth * 0.7, padding, bookWidth * 0.3, bookHeight);

      // Book lines (if large enough)
      if (size >= 32) {
        ctx.strokeStyle = 'rgba(99, 102, 241, 0.3)';
        ctx.lineWidth = Math.max(1, size / 32);

        const lineY1 = padding + bookHeight * 0.3;
        const lineY2 = padding + bookHeight * 0.5;
        const lineY3 = padding + bookHeight * 0.7;

        ctx.beginPath();
        ctx.moveTo(padding + padding / 2, lineY1);
        ctx.lineTo(padding + bookWidth * 0.6, lineY1);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(padding + padding / 2, lineY2);
        ctx.lineTo(padding + bookWidth * 0.6, lineY2);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(padding + padding / 2, lineY3);
        ctx.lineTo(padding + bookWidth * 0.6, lineY3);
        ctx.stroke();
      }

      return canvas;
    }

    function initializePreview() {
      const preview = document.getElementById('preview');

      sizes.forEach(size => {
        const canvas = generateIcon(size);
        canvases[size] = canvas;

        const container = document.createElement('div');
        container.className = 'icon-preview';

        const label = document.createElement('div');
        label.textContent = `${size}x${size}`;
        label.style.fontWeight = '500';
        label.style.color = '#666';

        container.appendChild(canvas);
        container.appendChild(label);
        preview.appendChild(container);
      });
    }

    function downloadIcon(canvas, size) {
      return new Promise((resolve) => {
        canvas.toBlob((blob) => {
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `icon${size}.png`;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
          resolve();
        });
      });
    }

    async function downloadAllIcons() {
      for (const size of sizes) {
        await downloadIcon(canvases[size], size);
        await new Promise(resolve => setTimeout(resolve, 300)); // Delay between downloads
      }
      alert('All icons downloaded! Please create an "icons" folder and move the files there.');
    }

    // Initialize on load
    initializePreview();
  </script>
</body>
</html>
